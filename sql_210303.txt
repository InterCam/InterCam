create table Major (
  major_id bigint(20) auto_increment NOT NULL,
  name1 VARCHAR(20),
  name2 VARCHAR(20),
  name3 VARCHAR(20),
  PRIMARY KEY (major_id) 
);


create table User(
  user_id bigint(20) auto_increment NOT NULL,
  create_date datetime,
  modified_date datetime,
  auth VARCHAR(32) default  'User',
  birth VARCHAR(20) NOT NULL,
  name VARCHAR(20) NOT NULL,
  password VARCHAR(255) NOT NULL,
  phone VARCHAR(20) NOT NULL,
  username VARCHAR(10) NOT NULL UNIQUE,
  major_id bigint(20),
  FOREIGN KEY (major_id) REFERENCES major(major_id) ON DELETE CASCADE, 
  PRIMARY KEY (user_id) 
);

create table ANALYST(
  user_id bigint(20) NOT NULL,
  FOREIGN KEY (user_id) REFERENCES user(user_id) ON DELETE CASCADE,
  create_date datetime,
  modified_date datetime,
  auth VARCHAR(32) default  'User',
  birth VARCHAR(20) NOT NULL,
  name VARCHAR(20) NOT NULL,
  password VARCHAR(255) NOT NULL,
  phone VARCHAR(20) NOT NULL,
  username VARCHAR(10) NOT NULL UNIQUE,
  major_id bigint(20),
  FOREIGN KEY (major_id) REFERENCES major(major_id) ON DELETE CASCADE, 
  contents VARCHAR(255) NOT NULL,
  img VARCHAR(255),
  PRIMARY KEY (user_id)
);

create table Video_List(
  list_id bigint(20) auto_increment NOT NULL,
  user_id bigint(20),
  FOREIGN KEY (user_id) REFERENCES user(user_id) ON DELETE CASCADE,
  avg_score float,
  major VARCHAR(255) NOT NULL,
  views int(11) default 0,
  video_id bigint(20),
  PRIMARY KEY (list_id)
);

create table Video(
  video_id bigint(20) auto_increment NOT NULL,
  title VARCHAR(20) NOT NULL,
  url VARCHAR(20) NOT NULL,
  list_id bigint(20),
  FOREIGN KEY (list_id) REFERENCES video_list(list_id) ON DELETE CASCADE,
  PRIMARY KEY (video_id)
);

create table Comment(
  comment_id bigint(20) auto_increment NOT NULL,
  list_id bigint(20),
  FOREIGN KEY (list_id) REFERENCES Video_List(list_id) ON DELETE CASCADE,
  user_id bigint(20),
  FOREIGN KEY (user_id) REFERENCES ANALYST(user_id) ON DELETE CASCADE,
  contents longtext NOT NULL,
  score int(11) default 0 NOT NULL,
  PRIMARY KEY (comment_id)
);

create table notice(
  notice_id bigint(20) auto_increment NOT NULL,
  title VARCHAR(255) NOT NULL,
  content VARCHAR(255) NOT NULL,
  views int(11) default 0,
  PRIMARY KEY (notice_id)
);

create table faq(
  faq_id bigint(20) auto_increment NOT NULL,
  title VARCHAR(20) NOT NULL,
  contents VARCHAR(255) NOT NULL,
  PRIMARY KEY (faq_id)
);

